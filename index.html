<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÄ‡∏•‡∏Ç‡∏ï‡∏£‡∏£‡∏Å‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</title>

  <!-- Styles & PWA -->
  <link rel="stylesheet" href="./styles.css?v=11" />
  <link rel="manifest" href="./manifest.json" />
  <link rel="apple-touch-icon" href="./icon-192.png" />
  <meta name="theme-color" content="#764ba2" />
</head>
<body>
  <!-- ============ ERROR OVERLAY (‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏î‡∏µ‡∏ö‡∏±‡∏Å ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß) ============ -->
  <script>
    // ‡πÅ‡∏™‡∏î‡∏á error ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ñ‡∏ö‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤ (‡∏•‡∏ö‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á)
    window.onerror = function (msg, src, line, col) {
      const box = document.createElement('pre');
      box.style.position = 'fixed';
      box.style.left = '8px';
      box.style.right = '8px';
      box.style.bottom = '8px';
      box.style.zIndex = 99999;
      box.style.background = '#fee2e2';
      box.style.color = '#b91c1c';
      box.style.border = '1px solid #ef4444';
      box.style.borderRadius = '10px';
      box.style.padding = '8px';
      box.style.maxHeight = '40vh';
      box.style.overflow = 'auto';
      box.textContent = `JS Error:\n${msg}\n${src}:${line}:${col}`;
      document.body.appendChild(box);
    };
    // ‡∏õ‡πâ‡∏≤‡∏¢ ‚ÄúJS loaded‚Äù
    window.addEventListener('DOMContentLoaded', () => {
      const tag = document.createElement('div');
      tag.style.position = 'fixed';
      tag.style.top = '8px';
      tag.style.right = '8px';
      tag.style.zIndex = 99998;
      tag.style.background = '#dcfce7';
      tag.style.color = '#166534';
      tag.style.border = '1px solid #16a34a';
      tag.style.borderRadius = '999px';
      tag.style.padding = '4px 10px';
      tag.style.fontSize = '12px';
      tag.textContent = 'JS loaded';
      document.body.appendChild(tag);
      setTimeout(() => tag.remove(), 3000);
    });
  </script>
  <!-- =========================================================== -->

  <div class="container">
    <h1>üßÆ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÄ‡∏•‡∏Ç‡∏ï‡∏£‡∏£‡∏Å‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</h1>

    <div class="main-container">
      <div class="calculator">
        <input type="text" class="display" id="display" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏™‡∏π‡∏ï‡∏£‡∏ï‡∏£‡∏£‡∏Å‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..." />
        <div class="result-display" id="resultDisplay"></div>

        <div class="button-grid">
          <!-- Variables -->
          <button class="button btn-variable" onclick="addToDisplay('p')">p</button>
          <button class="button btn-variable" onclick="addToDisplay('q')">q</button>
          <button class="button btn-variable" onclick="addToDisplay('r')">r</button>
          <button class="button btn-variable" onclick="addToDisplay('s')">s</button>

          <!-- Operators -->
          <button class="button btn-operator" onclick="addToDisplay('‚àß')">‚àß</button>
          <button class="button btn-operator" onclick="addToDisplay('‚à®')">‚à®</button>
          <button class="button btn-operator" onclick="addToDisplay('~')">~</button>
          <button class="button btn-operator" onclick="addToDisplay('‚Üí')">‚Üí</button>
          <button class="button btn-operator" onclick="addToDisplay('‚Üî')">‚Üî</button>

          <!-- Parentheses -->
          <button class="button btn-paren" onclick="addToDisplay('(')">(</button>
          <button class="button btn-paren" onclick="addToDisplay(')')">)</button>

          <!-- Actions -->
          <button class="button btn-warn" onclick="clearDisplay()">‡∏•‡πâ‡∏≤‡∏á</button>
          <button class="button btn-warn" onclick="backspace()">‡∏•‡∏ö</button>
          <button class="button btn-nav" onclick="moveCursorLeft()">‚Üê</button>
          <button class="button btn-nav" onclick="moveCursorRight()">‚Üí</button>
          <button class="button btn-equals" onclick="evaluateExpression()">= ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•</button>
        </div>

        <!-- Quick Examples -->
        <div class="examples">
          <p><strong>‡∏™‡∏π‡∏ï‡∏£‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</strong></p>
          <button class="button btn-operator" onclick="quickInsert('(p‚àßq)‚Üír')">(p‚àßq)‚Üír</button>
          <button class="button btn-operator" onclick="quickInsert('~p‚à®q')">~p‚à®q</button>
          <button class="button btn-operator" onclick="quickInsert('p‚Üîq')">p‚Üîq</button>
        </div>

        <div class="under-controls">
          <button class="button btn-toggle" onclick="toggleTruthTable()">
            <span id="toggleText">‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á</span>
          </button>
          <button class="button btn-install" id="installButton" onclick="installApp()" style="display:none">
            üì± ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏≠‡∏û
          </button>
        </div>
      </div>
    </div>

    <div class="truth-table" id="truthTable" style="display:none">
      <h3>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á</h3>
      <div class="table-container">
        <table id="truthTableContent">
          <thead><tr id="tableHeader"></tr></thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>
      <button class="button btn-equals" onclick="downloadCSV()">‚¨á ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á (CSV)</button>
    </div>

    <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡∏°‡∏µ install prompt) -->
    <div id="installHelp" hidden></div>
  </div>

  <!-- JS (‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏™‡πà‡∏ã‡πâ‡∏≥) -->
  <script src="./script.js?v=11" defer></script>
  <script src="./pwa.js?v=11" defer></script>
</body>
</html>          <button class="button btn-variable" onclick="addToDisplay('q')">q</button>
          <button class="button btn-variable" onclick="addToDisplay('r')">r</button>
          <button class="button btn-variable" onclick="addToDisplay('s')">s</button>

          <!-- Operators -->
          <button class="button btn-operator" onclick="addToDisplay('‚àß')">‚àß</button>
          <button class="button btn-operator" onclick="addToDisplay('‚à®')">‚à®</button>
          <button class="button btn-operator" onclick="addToDisplay('~')">~</button>
          <button class="button btn-operator" onclick="addToDisplay('‚Üí')">‚Üí</button>
          <button class="button btn-operator" onclick="addToDisplay('‚Üî')">‚Üî</button>

          <!-- Parentheses -->
          <button class="button btn-paren" onclick="addToDisplay('(')">(</button>
          <button class="button btn-paren" onclick="addToDisplay(')')">)</button>

          <!-- Actions -->
          <button class="button btn-warn" onclick="clearDisplay()">‡∏•‡πâ‡∏≤‡∏á</button>
          <button class="button btn-warn" onclick="backspace()">‡∏•‡∏ö</button>
          <button class="button btn-nav" onclick="moveCursorLeft()">‚Üê</button>
          <button class="button btn-nav" onclick="moveCursorRight()">‚Üí</button>
          <button class="button btn-equals" onclick="evaluateExpression()">= ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•</button>
        </div>

        <!-- Quick Examples -->
        <div class="examples">
          <p><strong>‡∏™‡∏π‡∏ï‡∏£‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</strong></p>
          <button class="button btn-operator" onclick="quickInsert('(p‚àßq)‚Üír')">(p‚àßq)‚Üír</button>
          <button class="button btn-operator" onclick="quickInsert('~p‚à®q')">~p‚à®q</button>
          <button class="button btn-operator" onclick="quickInsert('p‚Üîq')">p‚Üîq</button>
        </div>

        <div class="under-controls">
          <button class="button btn-toggle" onclick="toggleTruthTable()">
            <span id="toggleText">‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á</span>
          </button>
          <button class="button btn-install" id="installButton" onclick="installApp()" style="display:none">
            üì± ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏≠‡∏û
          </button>
        </div>
      </div>
    </div>

    <div class="truth-table" id="truthTable" style="display:none">
      <h3>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á</h3>
      <div class="table-container">
        <table id="truthTableContent">
          <thead><tr id="tableHeader"></tr></thead>
          <tbody id="tableBody"></tbody>
        </table>
      </div>
      <button class="button btn-equals" onclick="downloadCSV()">‚¨á ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á (CSV)</button>
    </div>

    <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡∏°‡∏µ install prompt) -->
    <div id="installHelp" hidden></div>
  </div>

  <!-- JS -->
  <script src="./script.js?v=9" defer></script>
  <script src="./pwa.js?v=9" defer></script>
</body>
</html>        </table>
      </div>
    </div>

    <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ install prompt) -->
    <div id="installHelp" hidden></div>
  </div>

  <!-- JS (‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏™‡πà‡∏ã‡πâ‡∏≥) -->
  <script src="./script.js?v=9" defer></script>
  <script src="./pwa.js?v=9" defer></script>
</body>
</html>        </table>
      </div>
    </div>

    <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ install prompt) -->
    <div id="installHelp" hidden></div>
  </div>

  <!-- JS (‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏™‡πà‡∏ã‡πâ‡∏≥) -->
  <script src="./script.js" defer></script>
  <script src="./pwa.js" defer></script>
</body>
</html>
